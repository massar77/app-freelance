{% extends 'base.html' %} {% load static %} {% block content %}
<div class="container-fluid">
  <div class="row row-cols-1 mt-5 pt-5">
    <div class="col-lg-2 fixed-top mt-5 pt-5 d-none d-sm-block">
      <nav class="nav flex-column shadow">
        <div class="list-group">
          <a
            href="#"
            class="list-group-item list-group-item-action active"
            aria-current="true"
          >
            Catégorie
          </a>
          {% for categorie_2 in categories_2 %}
          <a
            href="{% url 'sous_categorie' categorie_2.slug %}"
            class="list-group-item list-group-item-action text-truncate"
            >{{categorie_2.designation}}</a
          >
          {% endfor %}
        </div>
      </nav>
    </div>
    <div class="col-lg-8 col-12 offset-lg-2">
      <div class="row">
        <div class="col-12">
          <div
            id="carouselExampleCaptions"
            class="carousel slide"
            data-bs-ride="carousel"
          >
            <div class="carousel-inner shadow mb-5">
              <div class="carousel-item active">
                <img
                  src="https://res.cloudinary.com/dte7upwcr/image/upload/f_auto,w_1500/blog/blog/imagens-ecommerce.png"
                  class="d-block w-100"
                  alt="..."
                  style="height: 300px"
                />
                <div class="carousel-caption d-none d-md-block">
                  <h5>First slide label</h5>
                  <p>
                    Some representative placeholder content for the first slide.
                  </p>
                </div>
              </div>
              <div class="carousel-item">
                <img
                  src="https://res.cloudinary.com/dte7upwcr/image/upload/f_auto,w_1500/blog/blog/imagens-ecommerce.png"
                  class="d-block w-100"
                  alt="..."
                  style="height: 300px"
                />
                <div class="carousel-caption d-none d-md-block">
                  <h5>Second slide label</h5>
                  <p>
                    Some representative placeholder content for the second
                    slide.
                  </p>
                </div>
              </div>
              <div class="carousel-item">
                <img
                  src="https://res.cloudinary.com/dte7upwcr/image/upload/f_auto,w_1500/blog/blog/imagens-ecommerce.png"
                  class="d-block w-100"
                  alt="..."
                  style="height: 300px"
                />
                <div class="carousel-caption d-none d-md-block">
                  <h5>Third slide label</h5>
                  <p>
                    Some representative placeholder content for the third slide.
                  </p>
                </div>
              </div>
            </div>
            <button
              class="carousel-control-prev"
              type="button"
              data-bs-target="#carouselExampleCaptions"
              data-bs-slide="prev"
            >
              <span
                class="carousel-control-prev-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button
              class="carousel-control-next"
              type="button"
              data-bs-target="#carouselExampleCaptions"
              data-bs-slide="next"
            >
              <span
                class="carousel-control-next-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
      </div>
      <div class="row pb-5">
        {% for categorie_1 in categories_1 %}
        <div class="col-3">
          <div class="card rounded-3 shadow h-100">
            {% if categorie_1.photo_main %}
            <img
              src="{{categorie_1.photo_main.url}}"
              class="card-img-bottom"
              alt="..."
            />
            {% endif %}
            <div class="card-body">
              <h5 class="card-title">{{categorie_1.designation}}</h5>
              <p class="card-text">{{categorie_1.designation}}</p>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <div class="row gap-4">
        {% for post in page_objs %}
        <div class="col-12 my-2">
          <div class="card shadow">
            <h6 class="card-header">{{post.category_1}}/{{post.category_2}}</h6>
            <div class="card-body">
              <h6 class="card-title fw-bold">{{post.designation}}</h6>
              <div class="fw-lighter">
                Lighter weight text (relative to the parent element).
              </div>
              <p class="card-text fw-light">{{post.description}}</p>
              <h5>
                <span class="badge bg-danger">{{post.category_1}}</span>
                <a
                  href="{% url 'post' post.slug %}"
                  class="
                    badge
                    bg-primary
                    text-white
                    stretched-link
                    text-decoration-none
                  "
                  >{{post.category_2}}</a
                >
                <span class="badge bg-light text-black ms-auto"
                  >{{post.add |date:"d M Y"}}</span
                >
              </h5>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
    <div class="col-lg-2 d-none d-sm-block position-relative p-0">
      <div class="fixed-top">
        <nav
          class="
            nav
            flex-column
            d-inline-flex
            position-absolute
            top-0
            end-0
            mt-5
          "
        >
          <div class="list-group mt-5 pt-5 shadow">
            <a
              href="#"
              class="list-group-item list-group-item-action active"
              aria-current="true"
            >
              Catégorie
            </a>
            {% for categorie_2 in categories_2 %}
            <a
              href="{% url 'sous_categorie' categorie_2.slug %}"
              class="list-group-item list-group-item-action text-truncate"
              >{{categorie_2.designation}}</a
            >
            {% endfor %}
          </div>
        </nav>
      </div>
    </div>
  </div>
  <nav aria-label="...">
    <ul class="pagination justify-content-center mt-5 mb-5">
      {% if page_objs.has_previous %}
      <li class="page-item">
        <a href="?page={{ page_objs.previous_page_number }}" class="page-link"
          >Previous</a
        >
      </li>
      <li class="page-item">
        <a class="page-link" href="?page={{ page_objs.previous_page_number }}"
          >{{ page_objs.previous_page_number }}</a
        >
      </li>
      {% else %}
      <li class="page-item disabled">
        <a href="#" class="page-link">Previous</a>
      </li>
      {% endif %}

      <li class="page-item active" aria-current="page">
        <span class="page-link">{{ page_objs.number }}</span>
      </li>

      {% if page_objs.has_next %}
      <li class="page-item">
        <a class="page-link" href="?page={{ page_objs.next_page_number }}"
          >{{ page_objs.next_page_number }}</a
        >
      </li>
      <li class="page-item">
        <a class="page-link" href="?page={{ page_objs.next_page_number }}"
          >Next</a
        >
      </li>
      {% else %}
      <li class="page-item disabled">
        <a class="page-link" href="#">Next</a>
      </li>
      {% endif %}
    </ul>
  </nav>
</div>
{% endblock %}
